<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>NBA Break Widget with Team Logos</title>
 <style>
  body {
    margin: 0;
    background-color: black;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-auto-rows: auto;
    gap: 20px;
    padding: 40px;
    justify-items: center;
    align-items: center;
    max-width: 100vw;
    box-sizing: border-box;
  }
  .team {
    transition: opacity 0.3s ease;
  }
  .team img {
    width: 100px;
    height: auto;
    display: block;
  }
  .hidden {
    opacity: 0;
  }
</style>

  <iframe id="widget" src="https://www.whatnot.com/user/geekoutcollect/obs/break-widget"></iframe>

  <div id="container">
    <!-- Auto-generated team logos -->
    <img class="logo" id="ATL" src="logos/ATL.png" alt="ATL">
    <img class="logo" id="BOS" src="logos/BOS.png" alt="BOS">
    <img class="logo" id="BKN" src="logos/BKN.png" alt="BKN">
    <img class="logo" id="CHA" src="logos/CHA.png" alt="CHA">
    <img class="logo" id="CHI" src="logos/CHI.png" alt="CHI">
    <img class="logo" id="CLE" src="logos/CLE.png" alt="CLE">
    <img class="logo" id="DAL" src="logos/DAL.png" alt="DAL">
    <img class="logo" id="DEN" src="logos/DEN.png" alt="DEN">
    <img class="logo" id="DET" src="logos/DET.png" alt="DET">
    <img class="logo" id="GSW" src="logos/GSW.png" alt="GSW">
    <img class="logo" id="HOU" src="logos/HOU.png" alt="HOU">
    <img class="logo" id="IND" src="logos/IND.png" alt="IND">
    <img class="logo" id="LAC" src="logos/LAC.png" alt="LAC">
    <img class="logo" id="LAL" src="logos/LAL.png" alt="LAL">
    <img class="logo" id="MEM" src="logos/MEM.png" alt="MEM">
    <img class="logo" id="MIA" src="logos/MIA.png" alt="MIA">
    <img class="logo" id="MIL" src="logos/MIL.png" alt="MIL">
    <img class="logo" id="MIN" src="logos/MIN.png" alt="MIN">
    <img class="logo" id="NOP" src="logos/NOP.png" alt="NOP">
    <img class="logo" id="NYK" src="logos/NYK.png" alt="NYK">
    <img class="logo" id="OKC" src="logos/OKC.png" alt="OKC">
    <img class="logo" id="ORL" src="logos/ORL.png" alt="ORL">
    <img class="logo" id="PHI" src="logos/PHI.png" alt="PHI">
    <img class="logo" id="PHX" src="logos/PHX.png" alt="PHX">
    <img class="logo" id="POR" src="logos/POR.png" alt="POR">
    <img class="logo" id="SAC" src="logos/SAC.png" alt="SAC">
    <img class="logo" id="SAS" src="logos/SAS.png" alt="SAS">
    <img class="logo" id="TOR" src="logos/TOR.png" alt="TOR">
    <img class="logo" id="UTA" src="logos/UTA.png" alt="UTA">
    <img class="logo" id="WAS" src="logos/WAS.png" alt="WAS">
  </div>

  <script>
    const teamIDs = [
      "ATL", "BOS", "BKN", "CHA", "CHI", "CLE", "DAL", "DEN", "DET", "GSW",
      "HOU", "IND", "LAC", "LAL", "MEM", "MIA", "MIL", "MIN", "NOP", "NYK",
      "OKC", "ORL", "PHI", "PHX", "POR", "SAC", "SAS", "TOR", "UTA", "WAS"
    ];

    const logos = {};
    teamIDs.forEach(id => {
      logos[id] = document.getElementById(id);
    });

    function checkWidget() {
      const frame = document.getElementById('widget');
      const frameDoc = frame.contentDocument || frame.contentWindow.document;

      if (!frameDoc) return;

      const elements = frameDoc.querySelectorAll('body *');
      const takenTeams = new Set();

      elements.forEach(el => {
        const text = el.textContent?.trim();
        if (logos[text]) {
          const style = getComputedStyle(el);
          if (style.display !== 'none' && style.visibility !== 'hidden') {
            takenTeams.add(text);
          }
        }
      });

      teamIDs.forEach(id => {
        logos[id].style.display = takenTeams.has(id) ? 'none' : 'block';
      });
    }

    setInterval(() => {
      try {
        checkWidget();
      } catch (e) {
        console.warn("Cross-origin access issue â€” OBS should still render fine.");
      }
    }, 1000);
  </script>
</body>
</html>
